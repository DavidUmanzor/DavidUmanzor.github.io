<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>David Umanzor Portfolio</title>
  <link rel="stylesheet" href="assets/css/main.css" />
</head>
<body>
  <header>
    <h1>David Umanzor - Portfolio Designs</h1>
  </header>

  <main>
    <h1 class="title">Select the style you want to see</h1>

    <div id="app" class="container">
      <a class="card-link" href="portfolios/utah-portfolio/index.html">
        <card data-image="https://images.unsplash.com/photo-1680715436929-9f1304417d1e?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D">
          <h1 slot="header">Utah</h1>
          <p slot="content">Inspired by Utah scenery and style.</p>
        </card>
      </a>

      <a class="card-link" href="portfolios/terminal-portfolio/index.html">
        <card data-image="https://images.unsplash.com/photo-1608742213509-815b97c30b36?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3">
          <h1 slot="header">Terminal</h1>
          <p slot="content">Latest and main portfolio.</p>
        </card>
      </a>

      <a class="card-link" href="portfolios/dynamic-portfolio/index.html">
        <card data-image="https://images.unsplash.com/photo-1712238318704-b4fd7e5db652?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D">
          <h1 slot="header">Dynamic</h1>
          <p slot="content">List of all portfolio projects.</p>
        </card>
      </a>
    </div>
  </main>

  <footer>
    <p>&copy; 2024 David Umanzor</p>
  </footer>

  <!-- Vue.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    Vue.config.devtools = true;

    Vue.component('card', {
      template: `
        <div class="card-wrap"
             @mousemove="handleMouseMove"
             @mouseenter="handleMouseEnter"
             @mouseleave="handleMouseLeave"
             ref="card">
          <div class="card" :style="cardStyle">
            <div class="card-bg" :style="[cardBgTransform, cardBgImage]"></div>
            <div class="card-info">
              <slot name="header"></slot>
              <slot name="content"></slot>
            </div>
          </div>
        </div>
      `,
      props: ['dataImage'],
      data: () => ({
        width: 0,
        height: 0,
        mouseX: 0,
        mouseY: 0,
        mouseLeaveDelay: null
      }),
      mounted() {
        this.width = this.$refs.card.offsetWidth;
        this.height = this.$refs.card.offsetHeight;
      },
      computed: {
        mousePX() {
          return this.mouseX / this.width;
        },
        mousePY() {
          return this.mouseY / this.height;
        },
        cardStyle() {
          const rX = this.mousePX * 30;
          const rY = this.mousePY * -30;
          return {
            transform: `rotateY(${rX}deg) rotateX(${rY}deg)`
          };
        },
        cardBgTransform() {
          const tX = this.mousePX * -40;
          const tY = this.mousePY * -40;
          return {
            transform: `translateX(${tX}px) translateY(${tY}px)`
          };
        },
        cardBgImage() {
          return {
            backgroundImage: `url(${this.dataImage})`
          };
        }
      },
      methods: {
        handleMouseMove(e) {
          this.mouseX = e.pageX - this.$refs.card.offsetLeft - this.width/2;
          this.mouseY = e.pageY - this.$refs.card.offsetTop - this.height/2;
        },
        handleMouseEnter() {
          clearTimeout(this.mouseLeaveDelay);
        },
        handleMouseLeave() {
          this.mouseLeaveDelay = setTimeout(() => {
            this.mouseX = 0;
            this.mouseY = 0;
          }, 1000);
        }
      }
    });

    const app = new Vue({
      el: '#app'
    });
  </script>
</body>
</html>
