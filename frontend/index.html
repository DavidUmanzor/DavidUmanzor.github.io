<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>David Umanzor Portfolio</title>
  <link rel="stylesheet" href="assets/css/main.css" />
</head>
<body>
  <header>
    <h1>David Umanzor - Portfolio Versions</h1>
    <p>Select a version to view:</p>
  </header>

  <main>
    <h1 class="title">Hover over the cards</h1>

    <!-- Vue app mounts here instead of your <ul> -->
	<div id="app" class="container">
		<card data-image="https://images.unsplash.com/photo-1479660656269-197ebb83b540?…">
			<h1 slot="header">Utah</h1>
			<p slot="content">Inspired by Utah scenery and style.</p>
		</card>
		
		<card data-image="https://images.unsplash.com/photo-1479659929431-4342107adfc1?…">
			<h1 slot="header">Terminal</h1>
			<p slot="content">Latest and main portfolio.</p>
		</card>
		
		<card data-image="https://images.unsplash.com/photo-1479644025832-60dabb8be2a1?…">
			<h1 slot="header">Dynamic</h1>
			<p slot="content">List of all portfolio projects.</p>
		</card>
		</div>
  </main>

  <footer>
    <p>&copy; 2024 David Umanzor</p>
  </footer>

  <!-- 1. Vue.js (you can use the full-build or runtime-only) -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <!-- 2. Your card component + initialization -->
  <script>
    Vue.config.devtools = true;

    Vue.component('card', {
      template: `
        <div class="card-wrap"
          @mousemove="handleMouseMove"
          @mouseenter="handleMouseEnter"
          @mouseleave="handleMouseLeave"
          ref="card">
          <div class="card" :style="cardStyle">
            <div class="card-bg" :style="[cardBgTransform, cardBgImage]"></div>
            <div class="card-info">
              <slot name="header"></slot>
              <slot name="content"></slot>
            </div>
          </div>
        </div>
      `,
      props: ['dataImage'],
      data: () => ({
        width: 0,
        height: 0,
        mouseX: 0,
        mouseY: 0,
        mouseLeaveDelay: null
      }),
      mounted() {
        this.width = this.$refs.card.offsetWidth;
        this.height = this.$refs.card.offsetHeight;
      },
      computed: {
        mousePX() { return this.mouseX / this.width; },
        mousePY() { return this.mouseY / this.height; },
        cardStyle() {
          const rX = this.mousePX * 30;
          const rY = this.mousePY * -30;
          return { transform: `rotateY(${rX}deg) rotateX(${rY}deg)` };
        },
        cardBgTransform() {
          const tX = this.mousePX * -40;
          const tY = this.mousePY * -40;
          return { transform: `translateX(${tX}px) translateY(${tY}px)` };
        },
        cardBgImage() {
          return { backgroundImage: `url(${this.dataImage})` };
        }
      },
      methods: {
        handleMouseMove(e) {
          const rect = this.$refs.card.getBoundingClientRect();
          this.mouseX = e.clientX - rect.left - this.width / 2;
          this.mouseY = e.clientY - rect.top - this.height / 2;
        },
        handleMouseEnter() {
          clearTimeout(this.mouseLeaveDelay);
        },
        handleMouseLeave() {
          this.mouseLeaveDelay = setTimeout(() => {
            this.mouseX = 0;
            this.mouseY = 0;
          }, 1000);
        }
      }
    });

    // 3. Bootstrap the Vue instance
    new Vue({
      el: '#app'
    });
  </script>
</body>
</html>
